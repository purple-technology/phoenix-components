import{d as u,r as l,j as c}from"./iframe-bef07166.js";const h=u.div`
	transition: height
		${e=>e.theme.tokens.duration.transition.base} ease-out;
	height: ${e=>e.$height};
	visibility: ${e=>e.$visibility};
	overflow: ${e=>e.$overflow};
`,d=(e,n)=>{const r=(i,t)=>{var o;switch(t.type){case"start":return{...i,overflow:"hidden",visibility:"visible",height:`${(o=n.current)==null?void 0:o.scrollHeight}px`};case"collapsing":return{...i,height:"0px"};case"end":return{...i,visibility:e?"hidden":"visible",height:e?"0px":"auto",overflow:e?"hidden":"visible"}}},s={visibility:e?"hidden":"visible",height:e?"0px":"auto",overflow:e?"hidden":"visible"};return l.useReducer(r,s)},f=e=>{const n=l.useRef(!1),r=l.useRef(0),s=l.useRef(null),[i,t]=d(e,s);l.useLayoutEffect(()=>{if(s.current!=null){if(!n.current){n.current=!0;return}return r.current=requestAnimationFrame(()=>{t({type:"start"}),e&&(r.current=requestAnimationFrame(()=>{t({type:"collapsing"})}))}),()=>{r.current!=null&&cancelAnimationFrame(r.current)}}},[e,t]);const o=l.useCallback(()=>{t({type:"end"})},[t]);return{ref:s,height:i.height,onTransitionEnd:o,visibility:i.visibility,overflow:i.overflow}},p=({testId:e="Collapsible",collapsed:n,children:r})=>{const{ref:s,height:i,visibility:t,onTransitionEnd:o,overflow:a}=f(n);return c.jsx(h,{ref:s,$height:i,$visibility:t,$overflow:a,onTransitionEnd:o,"data-testid":e,children:r})};p.__docgenInfo={description:"",methods:[],displayName:"Collapsible",props:{testId:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Collapsible'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},collapsed:{required:!0,tsType:{name:"boolean"},description:""}}};export{p as C};
