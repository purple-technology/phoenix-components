import{r as d,e as R}from"./iframe-22864007.js";import{u as B,F as H,S as k}from"./useFormControl-ca195f92.js";function A(r){return/^((0|-?[1-9])\d*([.,]\d+)?)|(-0([.,]\d+))$/.test(r)}function I(r,g){const b=r.includes(","),y=r.replace(",","."),[u,m]=y.split("."),c=m===void 0?void 0:m.slice(0,g),p=u.indexOf("-")===0,T=Number.parseInt(p?u.slice(1):u).toString(),o=(p?"-":"")+T+(c===void 0?"":`.${c}`);return{stringValue:b?o.replace(".",","):o,numberValue:Number.parseFloat(o)}}const W=({size:r="md",testId:g="NumberInput",label:b,success:y,warning:u,error:m,contentRight:c,helperText:p,className:T,onChange:o,value:a,onFocus:x,onBlur:F,numberFormatErrorMessage:M="Wrong number format",maxDecimalCount:h=2,min:v,max:q,numberBelowMinErrorMessage:L=`Number must be ${v} or higher`,numberAboveMaxErrorMessage:C=`Number must be ${q} or lower`,...f})=>{const i=d.useRef(null),{focused:V,thisOnFocus:$,thisOnBlur:z}=B(x,F),O=a==null?"":a.toString(),[n,l]=d.useState(O),[E,N]=d.useState(void 0);return d.useEffect(()=>{let e=null,t=n,s;if(n)if(A(n)){const{stringValue:S,numberValue:w}=I(n,h);t=S,v!==void 0&&w<v?s=L:q!==void 0&&w>q?s=C:e=w}else s=M;N(s),o(e),l(t)},[n,l]),d.useEffect(()=>{if(a===null)V||(l(""),N(void 0));else{const{stringValue:e,numberValue:t}=I(a.toString(),h);Number.parseFloat(n)!==t&&(l(e),N(void 0))}},[a]),R.createElement(H,{label:b,success:!E&&y,warning:u,error:E??m,contentRight:c,helperText:p,className:T,size:r,disabled:f.disabled,filled:!!n,focused:V,minimal:f.minimal,testId:g},R.createElement(k,{...f,onChange:e=>l(e.target.value),onInput:()=>{if(i.current){const e=i.current.value;let t=i.current.selectionStart||e.length;const s=/[^0-9.,-]/gi,S=e.length;s.test(e)&&(i.current.value=e.replace(s,""),t-=S-i.current.value.length,i.current.setSelectionRange(t,t))}},type:"text",onFocus:$,onBlur:z,focused:V,disabled:f.disabled??!1,$size:r,value:n,inputMode:h>0?"decimal":"numeric",ref:i,maxLength:16}))};W.__docgenInfo={description:"`NumberInput` component supports all props from `InputHTMLAttributes<HTMLInputElement>` interface.",methods:[],displayName:"NumberInput",props:{testId:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'NumberInput'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:"Text displayed inside the input field"},success:{required:!1,tsType:{name:"boolean"},description:"Green border and checkmark visible"},warning:{required:!1,tsType:{name:"union",raw:"ReactElement | string",elements:[{name:"ReactElement"},{name:"string"}]},description:"Show yellow warning text and icon under the input"},error:{required:!1,tsType:{name:"union",raw:"ReactElement | string | boolean",elements:[{name:"ReactElement"},{name:"string"},{name:"boolean"}]},description:"Show red error text and icon under the input"},contentRight:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"}]},description:"Content to display on the right in LTR and on the left in RTL mode"},helperText:{required:!1,tsType:{name:"string"},description:"Helper text to display when input is focused"},size:{required:!1,tsType:{name:"Sizing"},description:"",defaultValue:{value:"'md'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},focused:{required:!1,tsType:{name:"boolean"},description:""},minimal:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!0,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: number | null) => void",signature:{arguments:[{type:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},name:"value"}],return:{name:"void"}}},description:""},numberFormatErrorMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Wrong number format'",computed:!1}},maxDecimalCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}},min:{required:!1,tsType:{name:"number"},description:""},max:{required:!1,tsType:{name:"number"},description:""},numberBelowMinErrorMessage:{required:!1,tsType:{name:"string"},description:""},numberAboveMaxErrorMessage:{required:!1,tsType:{name:"string"},description:""}},composes:["Omit"]};export{W as N};
